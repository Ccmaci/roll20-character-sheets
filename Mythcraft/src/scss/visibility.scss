div.settings {
  display: inline-grid;
}

input[name="attr_settings_toggle"]:not([value="settings"]) ~ div.settings {
  display: none;
}

input.flag:checked ~ .display,
input.flag:not(checked) ~ .edit {
  display: none;
}

input.flag:checked ~ .edit {
  display: inherit;
}

input[name*="attr_hide_"][value*="hide"] + div,
input[name*="attr_hide_"][value*="on"] ~ div.hide {
  display: none;
}
