- const buttonName = name => name.replace(/ /g, '-');
- const attrName = name => name.replace(/ /g, '_');
- const removeSpace = name => name.replace(/ /g, '');
- const toLowerCase = name => name.toLowerCase();

mixin textInput(name)
	label(data-i18n-title=`enter ${name}` title=`enter ${name}`)
		input(data-i18n-placeholder=name name=`attr_${attrName(name)}` placeholder=name title=`@{${attrName(name)}}` type='text' value='')

mixin numberInput(name)
	label(data-i18n-title=`enter ${name}` title=`enter ${name}`)
		input(name=`attr_${attrName(name)}` title=`@{${attrName(name)}}` type='number' value='')

mixin checkboxInput(name)
	label.styled-checkbox.grid(data-i18n-title=`toggle ${name}` title=`enter ${name}`)
		input(name=`attr_${attrName(name)}` title=`@{${attrName(name)}}` type='checkbox' value=name)
		span.pictos 3

mixin textarea(name)
	textarea(name=`attr_${attrName(name)}` placeholder=name)

mixin rollButton(name)
	button.text-capitalize(data-i18n=name name=`roll_${buttonName(name)}` type='roll' value!=`&{template:rolls} {{header=^{${name}}}} {{dice=[[1d20[Roll]]]}}`)

mixin repeatingRollButton(name)
	button.text-left.ellipsis.font-weight-bold(name=`roll_${buttonName(name)}` type='roll' value!=`&{template:rolls} {{header=@{name}}} {{dice=@{description}}}`)
		span(name='attr_name')

mixin repeatingChatButton(name)
	button.chat(name=`roll_${buttonName(name)}` type='roll' value!=`&{template:rolls} {{header=@{name}}} {{dice=@{notes}}}`)
		span.pictos q

mixin headerInput(name)
	.grid.col-auto-fr.gap-1.grid-flow-col.items-center
		h2(data-i18n=name)
		+textInput(name)

mixin simpleRepeatingSection(name)
	fieldset(class=`repeating_${attrName(name)}`)
		.grid.descriptor.relative.gap-1
			+editFlag()
			.grid.grid-flow-col.gap-4
				.grid.col-auto-fr.gap-2
					h3(data-i18n='name')
					span.display(name=`attr_name`)
					+textInput('name')
			+repeatingChatButton("name")
			.grid.notes
				span.display.pl-4(name='attr_notes')
				+textarea('notes')