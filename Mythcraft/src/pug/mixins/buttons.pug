- const templatePrefix = "&{template:rolls}"

//- Luck is < 0 you can never crit hit & subtract Luck from every d20
//- Luck >= 1 crits add Luck to damage


//- Attack roll 1d20 + attribute + TA/TD (+/- #	) - luck (luck < 0 ? -luck : 0) cs (luck < 0 ? no cs : critical_target)

//- damage luck >= 1 ? +luck : 0 (on crit)

mixin attributeRoll(name, attribute)
	button.text-center.uppercase(class!=attributes.class data-i18n=name name=`roll_${dashedName(attribute)}` type='roll' value!=`${templatePrefix} {{header=^{${attribute}}}} {{dice=[[1d20+@{${attribute}}]]}} `)

mixin rollButton(name, formula)
	button.text-capitalize(class!=attributes.class data-i18n=name name=`roll_${dashedName(name)}` type='roll' value!=`${templatePrefix} {{header=^{${name}}}} {{dice=[[1d20+${formula}]]}} {{description=@{description}}}`)

mixin repeatingRollButton(name, includeDescription = false)
	- const description = includeDescription ? "{{description=@{description}}" : ""
	button.text-left.ellipsis.font-weight-bold(class!=attributes.class name=`roll_${dashedName(name)}` type='roll' value!=`${templatePrefix} {{header=@{name}}} {{dice=[[1d20+@{attribute}+@{bonus}]]}} {${description}}}`)
		span(name='attr_name')

mixin repeatingChatIconButton(name)
	button.chat(class!=attributes.class name=`roll_${dashedName(name)}` type='roll' value!=`${templatePrefix} {{header=@{name}}} {{dice=@{description}}}`)
		span.pictos q

mixin repeatingChatButton(name)
	button.text-left.chat(class!=attributes.class name=`roll_${dashedName(name)}` type='roll' value!=`${templatePrefix} {{header=@{name}}} {{description=@{description}}}`)
		span(name='attr_name')
