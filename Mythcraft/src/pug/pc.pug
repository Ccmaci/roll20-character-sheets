.pc.p-2.w-full.h-full
	input(type="hidden"  name="attr_tab" value="main")
	
	.header.grid.gap-4.mb-4
		.flex.flex-wrap.flex-row.gap-4
			.logo.grow-0
				img(src='images/logo.png')
			.grid.gap-1.grow.bio
				each row in [['character name', 'lineage'], ['level', 'height', 'weight'], ['eye color', 'hair color', 'other']]
					.grid.grid-flow-col.gap-1
						each header in row
							+headerInput(header)
		.grid.gap-2.grid-flow-col.auto-cols-min
			each tab in ['main', 'combat', 'magic', 'journal']
				.grid.radio-button
					input(type="radio" name="attr_tab" value=tab checked=(!!tab === 'main'))
					span(data-i18n=tab)


	.grid.gap-4.main
		.grid.double-border-2.rounded-md.content-start.p-2.relative.personality.mb-4
			+title('personality / background')
			+textarea('personality background')
		.grid.gap-2.attributes
			each val in coreAttributes
				.grid.attribute.content-start.border
					.circle.rounded-full.border.grid.justify-center.items-center.font-bold
						h3.text-center(data-i18n=shortName(val))
						+numberInput(val)
					.box.grid.items-start.skill
						h3.text-center(data-i18n='skills/bonus')
						.grid.grid-flow-col.gap-2.mb-2.border-bottom.custom-grid
							.grid.grid-flow-col.gap-2.subheaders
								each val in ['name', 'bonus']
									h4(data-i18n=val)
						+repeatingSkills(val, ['name', 'bonus'])
			.grid.rounded-md.content-start.p-2.repeating-container.relative.border
				+title('currency')
				+textarea("currency")

		.grid.grid-flow-col.grid-cols-2.gap-4
			+repeatingList('inventory', ['name', 'qty'])
			+repeatingList('talents', ['name', 'level'])

		+repeatingList('abilities', ['name'])
		
	.grid.gap-4.combat
		.grid.grid-flow-col.gap-4
			.hit-points.grid.double-border-2.rounded-md
				.max.grid.justify-center.p-2
					h2.text-center(data-i18n='max hp')
					+numberInput("max hp")
				.grid.grid-flow-col
					each val in ["hp", "shield"]
						.grid.justify-center.p-2(class=`${val}`)
							h2.text-center(data-i18n=val)
							+numberInput(val)
			.grid.justify-center.grid-flow-col.gap-4
				each val in ["armor rating", "speed", "death points"]
					.grid
						.double-border-2.p-2.justify-center.rounded-md
							- const def = val === 'armor rating' ? 10 : 0
							+numberInput(val, def)
						h2.text-center(data-i18n=val)
		.grid.grid-flow-col
			.grid
				.double-border-2.p-2.justify-center.rounded-md
					+numberInput("action points")
				h2.text-center(data-i18n="ap/rounded")
			
			.grid
				.grid.grid-flow-col.gap-2
					h2.text-center(data-i18n="special action points")
					+numberInput("special action points")
				.grid.grid-flow-col
					- let n = 1;
					while n < 21
						span= n++

		.grid.gap-4.justify-between.items-center.attributes
			each val in combatAttributes
				.grid.relative.justify-center.items-center
					.circle.rounded-full.border.grid.justify-center.items-center.font-bold
						h2.text-center(data-i18n=shortName(val))
						+numberInput(val)
			div
			each val in derivedAttributes
				.grid.relative.justify-center.items-center(class=`${val}`)
					.circle.rounded-full.border.grid.justify-center.items-center.font-bold
						h3.text-center(data-i18n=shortName(val))
						span.text-center(name=`attr_${attrName(val)}`)
			.grid.relative.justify-center.items-center(class=`${val}`)
				.circle.rounded-full.border.grid.justify-center.items-center.font-bold
					h3.text-center(data-i18n="rerolls")
					+numberInput("rerolls")
		.grid.gap-4.grid-flow-col.auto-cols-fr
			.grid.double-border-2.rounded-md.relative
				+title("attacks & spellcasting")
			.grid.gap-4
				+repeatingList('reactive actions', ['name'])
				+repeatingList('conditions', ['name'])
		+repeatingList('abilities list', ['name'])

	.grid.gap-4.magic
		.grid.grid-flow-col.gap-4.mb-4
			.grid.double-border-2.rounded-md.items-center.justify-center
				h2.text-center(data-i18n='source / level')
				+numberInput("source")
			.grid.grid-flow-col.gap-4.items-center
				each val in ["max spell points", "current spell points", "spellcasting ability"]
					.grid
						.double-border-2.p-2.justify-center.rounded-md
							+numberInput(val)
						h2.text-center(data-i18n=val)
						
		.grid.gap-4.items-center
			.grid.double-border-2.rounded-md.content-start.p-2.source-magic.relative.repeating-container
				.grid.gap-2.items-center.justify-center.absolute.title
					+textInput('source magic')
					h2.text-center(data-i18n='source magic')
				+subheaders(['name', 'apc'])
				+repeatingSection('source magic', ['name', 'apc'])

			+repeatingList('rituals', ['name'])

			+repeatingList('spells', ['name', 'apc', 'spc'])

	.grid.gap-4.journal
		.grid.double-border-2.rounded-md.content-start.p-2.relative
			+title('additional background & occupation info')
			+textarea('additional background occupation info')
			
		.grid.gap-4.grid-flow-col.auto-cols-fr
			+repeatingList('location request contacts', ['name'])

			.grid.justify-center.gap-4.resources
				.grid.double-border-2.rounded-md.content-start.p-2.repeating-container.relative
					+title('resources')
					fieldset(class="repeating_resources")
						.grid.content-start.p-2
							+textInput('name')
							.grid.gap-2.grid-flow-col
								+numberInput('current')
								+numberInput('max')
						.grid
							h3.text-center(data-i18n='current/max')

		+repeatingList('journal', ['name', 'date'])
